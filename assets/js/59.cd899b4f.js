(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{409:function(s,t,a){"use strict";a.r(t);var n=a(42),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"github-action-å®ç°-github-pages-å’Œ-ç§æœ-è‡ªåŠ¨éƒ¨ç½²"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-action-å®ç°-github-pages-å’Œ-ç§æœ-è‡ªåŠ¨éƒ¨ç½²"}},[s._v("#")]),s._v(" github Action å®ç° GitHub Pages å’Œ ç§æœ è‡ªåŠ¨éƒ¨ç½²")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e28eae46f5fe437793ba602edea23fdf~tplv-k3u1fbpfcp-zoom-1.image",alt:""}}),s._v(" "),a("code",[s._v("github action")]),s._v(" æ˜¯åŸºäº "),a("code",[s._v("GitHub")]),s._v(" çš„æŒç»­é›†æˆæœåŠ¡ã€‚ ä»–æä¾›ä¸€å°æœåŠ¡å™¨å®ä¾‹ï¼Œå†è¿™ä¸ªå®ä¾‹ä¸­å…è®¸é€šè¿‡ "),a("code",[s._v("actions")]),s._v(" æ¥æ‰§è¡Œä¸€ä¸ªæˆ–è€…å¤šä¸ªå‘½ä»¤ï¼Œ ä»è€Œè¾¾åˆ°åƒæŠ“å–ä»£ç ã€è¿è¡Œæµ‹è¯•ã€ç™»å½•è¿œç¨‹æœåŠ¡å™¨ã€å‘å¸ƒé¡¹ç›®ç­‰åŠŸèƒ½ã€‚")]),s._v(" "),a("h2",{attrs:{id:"github-ç»„æˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#github-ç»„æˆ"}},[s._v("#")]),s._v(" gitHub ç»„æˆ")]),s._v(" "),a("ol",[a("li",[a("p",[a("code",[s._v("workflow")]),s._v(" (å·¥ä½œæµ): æ¯ä¸ªéœ€è¦å•ç‹¬è¿è¡Œçš„é›†æˆæœåŠ¡ï¼Œå°±æ˜¯ä¸€ä¸ª workflow")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("job")]),s._v(" (ä»»åŠ¡)ï¼š ä¸€ä¸ª "),a("code",[s._v("workflow")]),s._v(" ç”±ä¸€ä¸ªæˆ–å¤šä¸ª "),a("code",[s._v("jobs")]),s._v(" æ„æˆï¼Œå«ä¹‰æ˜¯ä¸€æ¬¡æŒç»­é›†æˆçš„è¿è¡Œï¼Œå¯ä»¥å®Œæˆå¤šä¸ªä»»åŠ¡ã€‚")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("step")]),s._v(" (æ­¥éª¤)ï¼šæ¯ä¸ª "),a("code",[s._v("job")]),s._v(" ç”±å¤šä¸ª "),a("code",[s._v("step")]),s._v(" æ„æˆï¼Œä¸€æ­¥æ­¥å®Œæˆã€‚")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("action")]),s._v(" (åŠ¨ä½œ)ï¼šæ¯ä¸ª "),a("code",[s._v("step")]),s._v(" å¯ä»¥ä¾æ¬¡æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå‘½ä»¤ï¼ˆ "),a("code",[s._v("action")]),s._v(" ï¼‰ã€‚")])])]),s._v(" "),a("h2",{attrs:{id:"git-action-æ–‡ä»¶-workflow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-action-æ–‡ä»¶-workflow"}},[s._v("#")]),s._v(" git action æ–‡ä»¶ - workflow")]),s._v(" "),a("p",[a("code",[s._v("github actions")]),s._v(" çš„é…ç½®æ–‡ä»¶æ˜¯ "),a("code",[s._v("workflow")]),s._v(" æ–‡ä»¶, å­˜æ”¾åœ¨ä»“åº“ä¸­çš„ "),a("code",[s._v(".gihub/workflows")]),s._v(" ç›®å½•ä¸­ã€‚")]),s._v(" "),a("p",[s._v("æ ¹æ®éœ€æ±‚ï¼Œ "),a("code",[s._v("workflow")]),s._v(" å¯ä»¥åˆ›å»ºå¤šä¸ªã€‚ "),a("code",[s._v("workflow")]),s._v(" è§„å®šä½¿ç”¨ "),a("code",[s._v("YAML")]),s._v(" æ ¼å¼ï¼Œæ–‡ä»¶åå¯ä»¥æ ¹æ®é›†æˆæœåŠ¡çš„åŠŸèƒ½ä»»æ„å–ï¼Œ ä½†æ˜¯åç¼€å¿…é¡»ä½¿ç”¨ "),a("code",[s._v(".yml")]),s._v("ã€‚ "),a("code",[s._v("GitHub")]),s._v(" åªè¦å‘ç° "),a("code",[s._v(".github/workflows")]),s._v(" ç›®å½•ä¸­å­˜åœ¨å°±ä¼šè‡ªåŠ¨è¿è¡Œè¿™äº›æ–‡ä»¶ã€‚")]),s._v(" "),a("h2",{attrs:{id:"å¸¸è§çš„-workflow-é…ç½®å­—æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸è§çš„-workflow-é…ç½®å­—æ®µ"}},[s._v("#")]),s._v(" å¸¸è§çš„ workflow é…ç½®å­—æ®µ")]),s._v(" "),a("h3",{attrs:{id:"name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#name"}},[s._v("#")]),s._v(" name")]),s._v(" "),a("p",[a("code",[s._v("workflow")]),s._v(" çš„åç§°ã€‚å¦‚æœçœç•¥è¯¥å­—æ®µï¼Œé»˜è®¤ä¸ºå½“å‰ "),a("code",[s._v("workflow")]),s._v(" çš„æ–‡ä»¶åã€‚")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" GitHub Actions Demo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"on"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#on"}},[s._v("#")]),s._v(" on")]),s._v(" "),a("p",[s._v("å®šä¹‰è§¦å‘äº‹ä»¶çš„"),a("code",[s._v("git hook")]),s._v(", å¯ä»¥æ˜¯å•ä¸ª "),a("code",[s._v("hook")]),s._v(" åç§°æˆ–å¤šä¸ª")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# push  æ—¶è§¦å‘äº‹ä»¶")]),s._v("\non"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("push\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# push å’Œ pull æ—¶éƒ½å‡ºå‘äº‹ä»¶")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("push"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" pull_request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("å®šä¹‰äº‹ä»¶æ—¶ï¼Œè¿˜å¯ä»¥é™å®šåˆ†æ”¯å’Œæ ‡ç­¾")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" master\n    \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"jobs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jobs"}},[s._v("#")]),s._v(" jobs")]),s._v(" "),a("p",[a("code",[s._v("workflow")]),s._v(" æ–‡ä»¶çš„ä¸»ä½“æ˜¯ "),a("code",[s._v("jobs")]),s._v(" å­—æ®µï¼Œè¡¨ç¤ºè¦æ‰§è¡Œçš„ä¸€é¡¹æˆ–å¤šé¡¹ä»»åŠ¡ã€‚")]),s._v(" "),a("p",[a("code",[s._v("jobs")]),s._v(" å­—æ®µé‡Œé¢ï¼Œéœ€è¦å†™å‡ºæ¯ä¸€é¡¹ä»»åŠ¡çš„ "),a("code",[s._v("job_id")]),s._v(" ï¼Œå…·ä½“åç§°è‡ªå®šä¹‰ã€‚ "),a("code",[s._v("job_id")]),s._v(" é‡Œé¢çš„ "),a("code",[s._v("name")]),s._v(" å­—æ®µæ˜¯ä»»åŠ¡çš„è¯´æ˜ã€‚")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®šä¹‰çš„ç¬¬ä¸€ä¸ªä»»åŠ¡ ")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("my_first_job")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" My first job\n  \n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®šä¹‰çš„ç¬¬äºŒä¸ªä»»åŠ¡")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("my_second_job")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" My second job\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[a("em",[a("strong",[s._v("jobs.<job_id>.needs")])]),s._v("\nneedså­—æ®µæŒ‡å®šå½“å‰ä»»åŠ¡çš„ä¾èµ–å…³ç³»ï¼Œå³è¿è¡Œé¡ºåºã€‚")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("needs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" job1\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("needs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("job1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" job2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("ä¸Šé¢ä»£ç ä¸­ï¼Œ "),a("code",[s._v("job1")]),s._v(" å¿…é¡»å…ˆäº "),a("code",[s._v("job2")]),s._v(" å®Œæˆï¼Œè€Œ "),a("code",[s._v("job3")]),s._v(" ç­‰å¾… "),a("code",[s._v("job1")]),s._v(" å’Œ "),a("code",[s._v("job2")]),s._v(" çš„å®Œæˆæ‰èƒ½è¿è¡Œã€‚å› æ­¤ï¼Œè¿™ä¸ª "),a("code",[s._v("workflow")]),s._v(" çš„è¿è¡Œé¡ºåºä¾æ¬¡ä¸ºï¼š "),a("code",[s._v("job1")]),s._v(" "),a("code",[s._v("ã€job2")]),s._v(" "),a("code",[s._v("ã€job3")]),s._v(" ã€‚")]),s._v(" "),a("p",[a("em",[a("strong",[s._v("jobs.<job_id>.runs-on")])]),s._v("\nruns-on å­—æ®µæŒ‡å®šè¿è¡Œæ‰€éœ€è¦çš„è™šæ‹Ÿæœºç¯å¢ƒï¼Œä»–æ˜¯å¿…å¡«å­—æ®µï¼Œç›®å‰å¯ä»¥é€‰æ‹©ï¼š")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[s._v("ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latestï¼Œubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("18.04æˆ–ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.04")]),s._v("\n\nwindows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latestï¼Œwindows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("2019æˆ–windows"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2016")]),s._v("\n\nmacOS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latestæˆ–macOS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.14")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("em",[a("strong",[s._v("jobs.<job_id>.steps")])])]),s._v(" "),a("p",[a("code",[s._v("steps")]),s._v(" å­—æ®µæŒ‡å®šæ¯ä¸ª "),a("code",[s._v("Job")]),s._v(" çš„è¿è¡Œæ­¥éª¤ï¼Œå¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ­¥éª¤ã€‚æ¯ä¸ªæ­¥éª¤éƒ½å¯ä»¥æŒ‡å®šä»¥ä¸‹ä¸‰ä¸ªå­—æ®µã€‚")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[s._v("jobs.<job_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(".steps.nameï¼šæ­¥éª¤åç§°ã€‚\njobs.<job_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(".steps.runï¼šè¯¥æ­¥éª¤è¿è¡Œçš„å‘½ä»¤ã€‚\njobs.<job_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(".steps.useï¼šè¯¥æ­¥éª¤è¿è¡Œçš„ actionã€‚\njobs.<job_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")]),s._v(".steps.envï¼šè¯¥æ­¥éª¤æ‰€éœ€çš„ç¯å¢ƒå˜é‡ã€‚\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("blockquote",[a("p",[s._v("æ¯ä¸€ä¸ª "),a("code",[s._v("steps")]),s._v(" ä¸­å¿…é¡»å­˜åœ¨ä¸€ä¸ª "),a("code",[s._v("run")]),s._v(" æˆ–è€… "),a("code",[s._v("action")])])]),s._v(" "),a("p",[s._v("ä¸€ä¸ªå®Œæ•´çš„ workflow æ–‡ä»¶å¦‚ä¸‹ï¼š")]),s._v(" "),a("p",[a("em",[a("strong",[s._v("ã€‚github/workflows/main.yml")])])]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" first github action workflow\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" master\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("first-job")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my first job demo\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" first"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("action\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[s._v("\n        echo hello world")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h2",{attrs:{id:"ä½¿ç”¨ç¯å¢ƒå˜é‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨ç¯å¢ƒå˜é‡"}},[s._v("#")]),s._v(" ä½¿ç”¨ç¯å¢ƒå˜é‡")]),s._v(" "),a("p",[s._v("é…ç½®ç¯å¢ƒå˜é‡çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š")]),s._v(" "),a("ol",[a("li",[s._v("åœ¨ env ä¸­ç›´æ¥å®šä¹‰å˜é‡å’Œå˜é‡çš„å€¼ï¼Œ é€šè¿‡ $XXX çš„æ–¹å¼ä½¿ç”¨ã€‚")])]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿™é‡Œæ˜¯ steps ä¸­çš„ä¸€ä¸ªæ­¥éª¤")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" nameï¼š env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("demo\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("FIRSTNAME")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hello\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("LASTNAME")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" world\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[s._v("\n      echo $FIRSTNAME  $LASTNAME")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[s._v("é€šè¿‡é¡¹ç›®ä¸­ Secrets è®¾ç½®å˜é‡ XXXï¼Œ åœ¨é…ç½®ä¸­é€šè¿‡ $"+s._s(s.XXX)+"  çš„æ–¹å¼è·å–ã€‚è¿™ç§å˜é‡å®šä¹‰é€‚ç”¨äºé‚£äº›æ¶‰åŠåˆ°éšç§æ•°æ®çš„æƒ…å†µã€‚")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8ef3840750654f0cb58051ef974f05c5~tplv-k3u1fbpfcp-zoom-1.image",alt:""}})]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿™é‡Œæ˜¯ steps ä¸­çš„ä¸€ä¸ªæ­¥éª¤")]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" nameï¼š env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("demo\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("FIRSTNAME")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hello\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("LASTNAME")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" world\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[s._v("\n      echo $ACCESS_TOKEN  ")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h2",{attrs:{id:"è‡ªåŠ¨éƒ¨ç½²-workflow-é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªåŠ¨éƒ¨ç½²-workflow-é…ç½®"}},[s._v("#")]),s._v(" è‡ªåŠ¨éƒ¨ç½² workflow é…ç½®")]),s._v(" "),a("ol",[a("li",[s._v("åŸºæœ¬ "),a("code",[s._v("workflow")]),s._v(" é…ç½®ï¼Œ åœ¨è¿™ä¸€æ­¥ä¸­åº”è¯¥å£°æ˜ "),a("code",[s._v("workflow")]),s._v(" åç§°ã€äº‹ä»¶è§¦å‘é…ç½®ã€‚")]),s._v(" "),a("li",[a("code",[s._v("jobs")]),s._v(" é…ç½®ï¼Œ é…ç½® "),a("code",[s._v("job")]),s._v(" åç§°ã€ä¾èµ–ç¯å¢ƒã€‚")]),s._v(" "),a("li",[a("code",[s._v("steps")]),s._v(" é…ç½®ã€‚")])]),s._v(" "),a("p",[s._v("ä»¥ "),a("code",[s._v("react")]),s._v(" é¡¹ç›®ä¸ºä¾‹ï¼Œ "),a("code",[s._v("steps")]),s._v(" åº”è¯¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤é…ç½®:")]),s._v(" "),a("h2",{attrs:{id:"å°†é¡¹ç›®éƒ¨ç½²åˆ°-github-pages-é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°†é¡¹ç›®éƒ¨ç½²åˆ°-github-pages-é…ç½®"}},[s._v("#")]),s._v(" å°†é¡¹ç›®éƒ¨ç½²åˆ° GitHub Pages é…ç½®")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" github actions build and deploy gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" master\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build_and_deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest\n\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n       "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. è·å–æºç ï¼Œ è¿™é‡Œéœ€è¦å°†ä»“åº“ä»£ç æ£€å‡ºåˆ°è™šæ‹Ÿæœºå®ä¾‹ä¸­")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Checkout ğŸ›ï¸\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@v2.3.1\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¥è‡ªå®˜ç½‘ï¼šå¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨actions/checkout@v2ï¼Œé‚£ä¹ˆåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ‚¨å¿…é¡»å°†æŒä¹…å‡­è¯è®¾ç½®ä¸ºfalseï¼Œæ‰èƒ½ä½¿éƒ¨ç½²æ­£ç¡®å·¥ä½œ")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("persist-credentials")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v("\n      \n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. æ‰§è¡Œ react é¡¹ç›®ä¸­çš„ ä¾èµ–åŒ…å®‰è£…å’Œæ„å»º")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Install and Build ğŸ”§\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[s._v("\n          npm install\n          npm run build")]),s._v("\n        \n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. å°†æ‰“åŒ…åçš„ä»£ç éƒ¨ç½²åˆ° gh-pages åˆ†æ”¯")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deploy ğŸš€\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" JamesIves/github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("deploy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("action@3.5.7\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸ºäº†è®© GitHubè§¦å‘é‡æ–°æ„å»ºé¡µé¢ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨å­˜å‚¨åº“æä¾›çš„GitHubä»¤ç‰Œæ¥æä¾›æ“ä½œ, GITHUB_TOKEN æ˜¯ç³»ç»Ÿé»˜è®¤æä¾›çš„  ä¸éœ€è¦å•ç‹¬é…ç½®ç¯å¢ƒå˜é‡")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("GITHUB_TOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.GITHUB_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("BRANCH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("pages \n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("FOLDER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" dist \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br")])]),a("h2",{attrs:{id:"å°†é¡¹ç›®éƒ¨ç½²åˆ°-ç§æœ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°†é¡¹ç›®éƒ¨ç½²åˆ°-ç§æœ"}},[s._v("#")]),s._v(" å°†é¡¹ç›®éƒ¨ç½²åˆ° ç§æœ")]),s._v(" "),a("p",[s._v("å°†é¡¹ç›®éƒ¨ç½²åˆ°ç§æœçš„æ­¥éª¤å’Œéƒ¨ç½²çš„ "),a("code",[s._v("gh-pages")]),s._v(" çš„æ­¥éª¤å·®ä¸å¤šï¼Œ åŒºåˆ«æ˜¯æˆ‘ä»¬éœ€è¦é…ç½®æ›´å¤šçš„ç¯å¢ƒå˜é‡æ¥é…åˆæœåŠ¡å™¨çš„ç™»å½•ã€‚ è¿™é‡Œä½¿ç”¨ "),a("a",{attrs:{href:"https://github.com/easingthemes/ssh-deploy",target:"_blank",rel:"noopener noreferrer"}},[s._v("ssh-deploy"),a("OutboundLink")],1),s._v(" "),a("code",[s._v("action")]),s._v(" è¿›è¡Œç§æœçš„éƒ¨ç½²ã€‚")]),s._v(" "),a("p",[a("code",[s._v("ssh-deploy")]),s._v(" å‚æ•°è¯´æ˜ï¼š")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("SSH_PRIVATE_KEY")]),s._v(", "),a("code",[s._v("required")]),s._v(" "),a("code",[s._v("ssh-deploy")]),s._v(" ä½¿ç”¨ "),a("code",[s._v("ssh")]),s._v(" çš„æ–¹å¼ç™»å½•è¿œç«¯æœåŠ¡å™¨ï¼Œ è¿™é‡Œéœ€è¦é…ç½® "),a("em",[a("strong",[s._v("å·²ç»å­˜æ”¾åˆ°è¿œç«¯æœåŠ¡å™¨ ~/.ssh/authorized_keys æ–‡ä»¶ä¸­æŸæ¡å…¬é’¥è®°å½•å¯¹åº”çš„ç§é’¥")])]),s._v(". è¿™é‡Œä¸€å®šè¦é…ç½®å¯¹ï¼Œå¦åˆ™ "),a("code",[s._v("github action")]),s._v(" è¿›å…¥ä¸äº†æœåŠ¡å™¨ã€‚")])]),s._v(" "),a("p",[s._v("å¦‚æœåœ¨æœåŠ¡å™¨ä¸­æ²¡æœ‰ "),a("code",[s._v("authorized_keys")]),s._v(" æ–‡ä»¶ï¼Œæˆ–è€…è¯¥æ–‡ä»¶ä¸­ä¸å­˜åœ¨è®°å½•ï¼Œå¯ä»¥æ–°å»º "),a("code",[s._v("authorized_keys")]),s._v(" æ–‡ä»¶ï¼Œå¹¶åœ¨æ–‡ä»¶ä¸­æ·»åŠ ä¸€ä¸ªæœ¬åœ°ç”µè„‘çš„å…¬é’¥ä¿¡æ¯ã€‚")]),s._v(" "),a("p",[s._v("æœ¬åœ°å…¬é’¥æ·»åŠ åˆ°æœåŠ¡å™¨ "),a("code",[s._v("authorized_keys")]),s._v(" çš„æ–¹æ³•")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("  ssh-copy-id user@host  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# user@host æœåŠ¡å™¨çš„ç”¨æˆ·åå’Œ host åœ°å€")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("æŒ‰ç…§ä¸Šé¢çš„æ–¹å¼ï¼Œåœ¨æœåŠ¡å™¨ "),a("code",[s._v("authorized_keys")]),s._v(" ä¸­æ·»åŠ äº†æœ¬åœ°å…¬é’¥ï¼Œé‚£ä¹ˆè¿™é‡Œåœ¨ "),a("code",[s._v("GitHub")]),s._v(" ä¸­é…ç½® "),a("code",[s._v("SSH_PRIVATE_KEY")]),s._v(" çš„å€¼å°±æ˜¯æœ¬åœ°çš„ç§é’¥ã€‚")]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("p",[a("code",[s._v("REMOTE_HOST")]),s._v(",  "),a("code",[s._v("required")]),s._v("\næœåŠ¡å™¨åœ°å€ï¼šæ¯”å¦‚ 172.0.0.1")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("REMOTE_USER")]),s._v(" "),a("code",[s._v("required")]),s._v("\nç™»é™†æœåŠ¡å™¨çš„ç”¨æˆ·å")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("REMOTE_PORT")]),s._v("  default '22'\nç™»å½•æœåŠ¡å™¨çš„ç«¯å£ï¼Œ é»˜è®¤å€¼ 22")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("ARGS")]),s._v(" (optional, default '-"),a("code",[s._v("rltgoDzvO")]),s._v("')\nè¿™ä¸ªæš‚æ—¶æ²¡æœ‰ææ‡‚")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("SOURCE")]),s._v("  default ''\næºç æ–‡ä»¶è·¯å¾„ï¼Œé»˜è®¤æ‰§è¡Œ "),a("code",[s._v("GITHUB_WORKSPACE")]),s._v(" ä»“åº“æ ¹ç›®å½•, react æ‰“åŒ…åçš„æ–‡ä»¶åœ¨æ ¹ç›®å½•çš„ build ç›®å½•ï¼Œè¿™é‡Œå¯ä»¥é…ç½®æˆ "),a("code",[s._v("build/")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("TARGET")]),s._v(" default '"),a("code",[s._v("/home/REMOTE_USER/")]),s._v("'\nç›®æ ‡æ–‡ä»¶è·¯å¾„ï¼Œå³å°† "),a("code",[s._v("SOURCE")]),s._v(" æ–‡ä»¶æ‰“åŒ…åˆ°æœåŠ¡å™¨çš„å“ªä¸ªåœ°å€ï¼Œ å¦‚æœä½¿ç”¨ "),a("code",[s._v("nginx")]),s._v(" ä½œä¸ºé¡¹ç›®çš„é™æ€æ–‡ä»¶æœåŠ¡å™¨ï¼Œ è¿™é‡Œå°±å¯ä»¥æŒ‡å‘ "),a("code",[s._v("nginx")]),s._v(" é…ç½®çš„é™æ€æ–‡ä»¶åœ°å€")])])]),s._v(" "),a("blockquote",[a("p",[s._v("é‡ç‚¹ä¸€ï¼š  è¿™é‡Œçš„ "),a("code",[s._v("SSH_PRIVATE_KEY")]),s._v(" æ˜¯ä¸€ä¸ª "),a("code",[s._v("ssh")]),s._v(" ç§é’¥ï¼Œ å®ƒå¯¹åº”çš„æ˜¯å·²ç»åœ¨æœåŠ¡å™¨ä¸­çš„ "),a("code",[s._v("ssh authorized_keys")]),s._v(" å­˜åœ¨çš„å…¬é’¥å¯¹åº”çš„ç§é’¥ã€‚")])]),s._v(" "),a("blockquote",[a("p",[s._v("é‡ç‚¹äºŒï¼š è™½ç„¶ç¯å¢ƒå˜é‡å¯ä»¥åœ¨ "),a("code",[s._v("steps")]),s._v(" ä¸­çš„ "),a("code",[s._v("env")]),s._v(" å­—æ®µä¸­å®šä¹‰ï¼Œ ä½†æ˜¯ "),a("code",[s._v("ssh-deploy")]),s._v(" ä¸­æ¶‰åŠåˆ°æœåŠ¡å™¨çš„éšç§ä¿¡æ¯ï¼Œè¿™é‡Œè¦ç”¨  "),a("code",[s._v("secrets")]),s._v(" çš„æ–¹å¼é…ç½®")])]),s._v(" "),a("p",[s._v("é…ç½®æ–‡ä»¶ï¼š")]),s._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[s._v("\t\t\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" newBlog deploy shell\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" new\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("setup-build-publish-deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Setup"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Publish"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" and Deploy\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Checkout\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" actions/checkout@v2\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("persist-credentials")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("false")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Install and build ğŸ”§\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),a("span",{pre:!0,attrs:{class:"token scalar string"}},[s._v("\n        yarn \n        yarn build")]),s._v("\n\n "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åŒºåˆ«ä»è¿™é‡Œå¼€å§‹       ")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Deploy to Server ğŸš€\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿™é‡Œä½¿ç”¨ ssh-deploy action")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" easingthemes/ssh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("deploy@v2.1.5\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("SSH_PRIVATE_KEY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.SSH_PRIVATE_KEY "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("SOURCE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"build/"')]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("REMOTE_HOST")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.REMOTE_HOST "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("REMOTE_USER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.REMOTE_USER "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("TARGET")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" secrets.REMOTE_TARGET "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);