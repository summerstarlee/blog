(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{353:function(t,s,a){"use strict";a.r(s);var n=a(42),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"babel-教程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-教程"}},[t._v("#")]),t._v(" Babel 教程")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://ww2.sinaimg.cn/large/006tNc79ly1g5xaal5mtsj31060f2wto.jpg",alt:""}}),t._v("\nBabel 是一个 JavaScript 编译器.各个浏览器对 JavaScript 版本的支持各不相同，有很多优秀的新语法都不能直接在浏览器中运行。为了解决这个“沟通不畅”的问题，所以就有了 Babel，Babel 的出现使得我们可以无须顾忌的去使用 ES6+ 的语法")]),t._v(" "),a("h2",{attrs:{id:"使用-babel-cli"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-babel-cli"}},[t._v("#")]),t._v(" 使用 @babel/cli")]),t._v(" "),a("p",[t._v("babel 提供了 "),a("code",[t._v("@babel/cli")]),t._v(" 命令行工具， 用于命令行下编译源码。")]),t._v(" "),a("ol",[a("li",[t._v("为了使用 "),a("code",[t._v("@babel/cli")]),t._v(" 工具需要在全局或项目中安装 "),a("code",[t._v("@babel/core")]),t._v(" "),a("code",[t._v("@babel/cli")]),t._v("。")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("@babel/core")]),t._v(" 中包含了 babel 的核心模块， babel 的核心 api 都存在于这个模块中。 使用 babel 必须要安装这个模块。")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 快速初始化项目")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" init -y\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 本地下载依赖")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @babel/cli @babel/core -D \n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("在项目中新建 "),a("code",[t._v("test.js")]),t._v(" 文件， 并写入内容。")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello word'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("使用 "),a("code",[t._v("npx babel test.js")]),t._v(" 快速编译文件")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("npx babel test.js\nconst fn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" console.log"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello word'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("编译后的文件并没有发生任何变化， 这是因为 babel 在 6 版本以上做了大量的模块化的工作，将原本集成一体的编译功能分离成一个个独立的插件，在没有使用任何插件时， babel 默认并不会做任何编译的工作。")]),t._v(" "),a("h2",{attrs:{id:"使用-babel-插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-babel-插件"}},[t._v("#")]),t._v(" 使用 babel 插件")]),t._v(" "),a("p",[t._v("babel 提供了众多的插件来处理 js 语法的转换， 像上面用到的箭头函数， babel 提供了 "),a("code",[t._v("@babel/plugin-transform-arrow-functions")]),t._v(" 插件把箭头函数转换成普通函数。")]),t._v(" "),a("ol",[a("li",[t._v("安装")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @babel/plugin-transform-arrow-functions -D\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("命令行编译")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("npx babel --plugins @babel/plugin-transform-arrow-functions test.js\n")])])]),a("p",[t._v("箭头函数被编译成了普通函数\n"),a("img",{attrs:{src:"http://ww4.sinaimg.cn/large/006tNc79gy1g5xs68b8iyj31q406mmy4.jpg",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"babel-配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-配置文件"}},[t._v("#")]),t._v(" babel 配置文件")]),t._v(" "),a("p",[t._v("当使用插件增多，所有的插件都写在命令行中，命令行参数会越来越长， babel 提供了配置文件来解决这个问题。 配置文件可以是一下几种方式:")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("babel.config.js")])])]),t._v(" "),a("p",[t._v("如同 "),a("code",[t._v("webpack.config.js")]),t._v(" 使用 "),a("code",[t._v("babel.config.js")]),t._v(" 可以以编程的方式创建配置文件， 使用这种方式还可以选择编译 node_modules 目录下的模块。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/plugin-transform-arrow-functions"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[a("code",[t._v(".babelrc")])])]),t._v(" "),a("p",[t._v("适用于不含逻辑处理的简单配置")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v('"@babel/plugin-transform-arrow-functions'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[a("code",[t._v(".babelrc.js")])])]),t._v(" "),a("p",[t._v("可以使用 "),a("code",[t._v("module.exports")]),t._v(" 暴露一个同 "),a("code",[t._v(".babelrc")]),t._v(" 相同的配置对象。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/plugin-transform-arrow-functions"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[a("code",[t._v("package.json")])])]),t._v(" "),a("p",[t._v("babel 的配置文件除了单独作为一个文件外， 还可以在 package.json  文件中添加 "),a("code",[t._v("babel")]),t._v(' 字段来添加配置信息。\n{\n"babel": {\n"plugins": ["@babel/plugin-transform-arrow-functions"]\n}\n}')]),t._v(" "),a("blockquote",[a("p",[t._v("有了配置文件， 在使用命令行的时候直接运行 "),a("code",[t._v("npx babel test.js")]),t._v(" 编译代码， babel 会自动读取上述讲到的配置文件并应用到编译中.")])]),t._v(" "),a("h2",{attrs:{id:"preset-预设"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#preset-预设"}},[t._v("#")]),t._v(" preset 预设")]),t._v(" "),a("p",[t._v("当代码中使用了更多新增的 js 高级语法，为了考虑浏览器的支持，需要转换这些高级语法。 这时候我们可能需要在配置文件中添加 "),a("code",[t._v("@babel/plugin-transform-block-scoping")]),t._v("插件转换 "),a("code",[t._v("const")]),t._v(" "),a("code",[t._v("let")]),t._v(" 语法、添加 "),a("code",[t._v("@babel/plugin-transform-classes")]),t._v(" 插件转换 "),a("code",[t._v("calss")]),t._v(" 语法。 显然这种方式是繁琐的，我们不仅要关注业务逻辑，还要关注 es6 语法的支持情况。")]),t._v(" "),a("p",[t._v("babel 提供了 "),a("code",[t._v("preset(预设)")]),t._v(" 概念，可以把它看作是 "),a("code",[t._v("套餐")]),t._v(" 的概念。在每一个套餐里面包含了不同的 "),a("code",[t._v("plugins")]),t._v(", 这样只要安装了一个 "),a("code",[t._v("preset")]),t._v(", 就等同于安装了众多的 babel 插件。")]),t._v(" "),a("p",[t._v("babel 官方提供了几组常用环境的编译 preset:")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("@babel/preset-env")]),t._v("  允许使用最新 js 语法的预设")]),t._v(" "),a("li",[a("code",[t._v("@bable/preset-flow")]),t._v(" 允许使用 flow 静态类型检查的预设")]),t._v(" "),a("li",[a("code",[t._v("@babel/preset-react")]),t._v(" 允许使用 react jsx 语法的预设")]),t._v(" "),a("li",[a("code",[t._v("@babel/preset-typescript")]),t._v(" 允许使用 typescript 语法的预设")])]),t._v(" "),a("p",[t._v("以 "),a("code",[t._v("@babel/preset-env")]),t._v(" 为例，看一下 preset 的使用方法")]),t._v(" "),a("ol",[a("li",[t._v("安装 preset")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @babel/preset-env -D\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("配置 preset")])]),t._v(" "),a("p",[t._v("以 .babelrc 文件配置为例")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/preset-env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("在 test.js 文件中增加更多的 es6 语法。")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello babel.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Persion")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello class'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" word "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello word!'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Persion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("验证 perset")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("npx babel test.js\n")])])]),a("p",[t._v("箭头函数、let/const、class 这些高级语法都被向下转译\n"),a("img",{attrs:{src:"http://ww3.sinaimg.cn/large/006tNc79gy1g5xuelundbj31i40lq78k.jpg",alt:""}})]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[a("code",[t._v("@babel/perset-env")]),t._v(" 参数配置")])]),t._v(" "),a("p",[t._v("当代码确定不会运行在更低的浏览器环境， 或者很清楚代码需要运行在某个浏览器环境中， 可以传递给 "),a("code",[t._v("@babel/perset-env")]),t._v(" 更多的参数来实现。")]),t._v(" "),a("blockquote",[a("p",[t._v("当给 perset 设置参数时， 需要把这个 perset 作为一个数组写在 "),a("code",[t._v("persets")]),t._v(" 数组中， 这个 perset 数组包含两个值， 第一个是当前 perset 的名称， 第二个是这个 preset 的参数对象。")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"presets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/preset-env"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"targets"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"browsers"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"last 1 Chrome versions"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("在配置文件中配置了代码的运行目标是最近一个版本的 Chrome 浏览器， 因为 Chrome 浏览器对新的 es6 语法的支持， balbel 并没有对代码进行语法转换\n"),a("img",{attrs:{src:"http://ww4.sinaimg.cn/large/006tNc79gy1g5xuwlvoxrj317o0k2wgd.jpg",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"babel-polyfill"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-polyfill"}},[t._v("#")]),t._v(" @babel/polyfill")]),t._v(" "),a("p",[t._v("在 es6 中 js 有了很多改变，总的来说这些改变包含了两个方面:")]),t._v(" "),a("ol",[a("li",[t._v("syntax 语法的改变。这类改变表现在对 es5 中存在的 API 的优化， 如 let、const、 class 等。")]),t._v(" "),a("li",[t._v("新增的 API。 es6 在 es5 的基础上增加了像 Iterator、Generator、Set、Maps、Proxy、Reflect、Symbol、Promise 和 Object.assign 这样的全局对象和对象方法。这些对象和方法在 es5 中是没有的。")])]),t._v(" "),a("p",[a("code",[t._v("@babel/preset-env")]),t._v(" 实现了 syntax 高级语法的向下转译， 但是对新增 API "),a("code",[t._v("@babel/preset-env")]),t._v(" 并不能识别，所以在向下转译的时候也就不能转译这些API。")]),t._v(" "),a("p",[t._v("浏览器会针对这些新增的 API 实现自己的兼容方式，以数组的 "),a("code",[t._v("includes")]),t._v(" 方法为例。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("includes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 实现兼容方法")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这种实现新的 js API 语法兼容的过程就是 "),a("code",[t._v("polyfill")]),t._v("，即"),a("code",[t._v("垫片")]),t._v("。")]),t._v(" "),a("p",[t._v("但是不同的浏览器对某一特性的兼容方法并不相同，并且,并不是所有的浏览器都实现了所有 API 的兼容。")]),t._v(" "),a("p",[a("code",[t._v("@babel/polyfill")]),t._v(" 为解决这种情况提供了一种方案。他对所有新增的 es6 API 实现了一套统一的兼容方案，让所有的浏览器针对所有的 es6 API 都站到统一的起跑线上。")]),t._v(" "),a("p",[t._v("下面看一下 "),a("code",[t._v("@babel/polyfill")]),t._v(" 的使用方法")]),t._v(" "),a("ol",[a("li",[t._v("安装")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @babel/polyfill -D\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("在代码的入口文件顶部引用 "),a("code",[t._v("@babel/polyfill")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel/polyfill'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("fn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello babel.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Persion")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello class'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" word "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello word!'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Persion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babababelss'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("includes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babel'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("ul",[a("li",[t._v("@babel/polyfill 的弊端")])]),t._v(" "),a("p",[t._v("为了实现浏览器兼容， @babel/polyfill 必须要实现所有 es6 API 的兼容处理, 并且他会对一些全局的方法重写， 因此会存在弊端:")]),t._v(" "),a("ol",[a("li",[t._v("体积较大， 当项目中只使用一小部分特性时， 会造成资源浪费。")]),t._v(" "),a("li",[t._v("会污染全局环境，对一些方法重写。")])]),t._v(" "),a("h2",{attrs:{id:"babel-runtime"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-runtime"}},[t._v("#")]),t._v(" @babel/runtime")]),t._v(" "),a("p",[t._v("使用了 "),a("code",[t._v("@babel/ployfill")]),t._v(" + "),a("code",[t._v("@babel/preset-env")]),t._v(" babel 已经可以处理 es6 新语法特性在浏览器中的兼容问题了， 那 "),a("code",[t._v("@babel/runtime")]),t._v(" 的必要性又是什么呢？")]),t._v(" "),a("p",[t._v("以 es6 中的 "),a("code",[t._v("Object.assign()")]),t._v(" 为例子，代码中如果需要使用这一特性，考虑到要避免上面列出的 "),a("code",[t._v("@babel/polyfill")]),t._v(" 的弊端，可以单独引入 "),a("code",[t._v("@babel/plugin-transform-object-assign")]),t._v(" 插件转译代码。")]),t._v(" "),a("ol",[a("li",[t._v("安装")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @babel/plugin-transform-object-assign -D\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("配置")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('{\n  "presets": ["@babel/preset-env"], \n  "plugins": ["@babel/plugin-transform-object-assign"]\n}\n')])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("准备测试文件")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("let a = {x:1}\nlet b = {y:2}\nObject.assign(a, b);\n")])])]),a("ol",{attrs:{start:"4"}},[a("li",[t._v("运行")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('$ npx babel test.js\n\n"use strict";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar a = {\n  x: 1\n};\nvar b = {\n  y: 2\n};\n\n_extends(a, b);\n')])])]),a("p",[t._v("可以看到如果没有使用 "),a("code",[t._v("@babel/polyfill")]),t._v(" 的话， babel 会将 "),a("code",[t._v("Object.assign()")]),t._v(" 方法替换为 "),a("code",[t._v("_extends()")]),t._v(" 方法。")]),t._v(" "),a("p",[t._v("现在我们新增一个 test1.js 文件， 在里面也写一个 "),a("code",[t._v("Object.assign()")]),t._v(" 方法。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("assign")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("现在使用 "),a("code",[t._v("npx babel test.js test1.js")]),t._v(" 编译两个文件。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ npx babel test.js test1.js\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# test.js 文件编译结果")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("_extends")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _extends "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object.assign "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("var i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" arguments.length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i++"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" var "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("var key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object.prototype.hasOwnProperty.call"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("source, key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" source"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" _extends.apply"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this, arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nvar a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  x: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvar b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  y: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n_extends"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a, b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# test1.js 编译结果")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("_extends")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" _extends "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object.assign "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("var i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" arguments.length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i++"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" var "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("var key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("source")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object.prototype.hasOwnProperty.call"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("source, key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" source"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" _extends.apply"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this, arguments"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n_extends"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("可以看到在多个文件中使用 "),a("code",[t._v("Object.assign()")]),t._v(" 方法时，会重复创建 "),a("code",[t._v("_extends")]),t._v(" 方法，这种情况需要:")]),t._v(" "),a("ol",[a("li",[t._v("将 "),a("code",[t._v("_extends()")]),t._v(" 方法提取成一个公共的方法")]),t._v(" "),a("li",[t._v("将提取出来的 "),a("code",[t._v("_extends()")]),t._v(" 方法插入到各个文件中")])]),t._v(" "),a("p",[a("code",[t._v("@babel/runtime")]),t._v(" 实现了第一个步骤， 它里面包含了众多的工具函数，像上面提到的 "),a("code",[t._v("_extends()")]),t._v(" 用来替换 "),a("code",[t._v("object.assign()")]),t._v("、"),a("code",[t._v("_classCallCheck()")]),t._v(" 用来替换 "),a("code",[t._v("class")]),t._v("。")]),t._v(" "),a("p",[a("code",[t._v("@babel/plugin-transform-runtime")]),t._v(" 能够实现步骤2的功能， 他能够向代码中注入当前文件中需要的 "),a("code",[t._v("@babel/runtime")]),t._v(" 工具函数，来避免工具函数的重复定义。")]),t._v(" "),a("p",[t._v("使用方法：")]),t._v(" "),a("ol",[a("li",[t._v("安装")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @babel/runtime\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @babel/plugin-transform-runtime -D\n")])])]),a("blockquote",[a("p",[t._v("值得关注的是  "),a("code",[t._v("@babel/runtime")]),t._v(" 选择的是生产依赖，而 "),a("code",[t._v("@babel/plugin-transform-runtime")]),t._v(" 选择的是开发依赖， 这是因为 "),a("code",[t._v("@babel/runtime")]),t._v(" 提供的工具函数最终需要编译代码中，而 "),a("code",[t._v("@babel/plugin-transform-runtime")]),t._v(" 只是在开发的时候用来像源码文件中注入工具函数。")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v(".babelrc 配置")])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/plugin-transform-object-assign"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/plugin-transform-runtime"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("编译文件")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ npx babel test.js test1.js\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# test.js 编译结果")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvar _interopRequireDefault "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/runtime/helpers/interopRequireDefault"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nvar _extends2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _interopRequireDefault"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("require"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/runtime/helpers/extends"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nvar a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  x: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nvar b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  y: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(", _extends2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a, b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# test1.js 编译结果")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"use strict"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nvar _interopRequireDefault "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/runtime/helpers/interopRequireDefault"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nvar _extends2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" _interopRequireDefault"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("require"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@babel/runtime/helpers/extends"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(", _extends2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("可以看到使用 "),a("code",[t._v("@babel/runtime")]),t._v(" + "),a("code",[t._v("@babel/plugin-transform-runtime")]),t._v(" 之后实现 "),a("code",[t._v("_extend()")]),t._v(" 方法的抽离和代码的注入。")]),t._v(" "),a("blockquote",[a("ul",[a("li",[t._v("@babel/runtime 的弊端: @bable/runtime 不能提供实例上面的方法的转换， 像 Array.includes()、 Array.form() @babel/runtime 并不能转换")])])]),t._v(" "),a("h2",{attrs:{id:"babel-polyfill-和-babel-runtime-的区别"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-polyfill-和-babel-runtime-的区别"}},[t._v("#")]),t._v(" @babel/polyfill 和 @babel/runtime 的区别")]),t._v(" "),a("ol",[a("li",[t._v("实现方式不同")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("@babel/polyfill")]),t._v(" 为了兼容新的 js API, 用低版本语法实现对新出现 API 的"),a("strong",[t._v("重写")])]),t._v(" "),a("li",[a("code",[t._v("@babel/runtime")]),t._v(" 用低版本语法实现的工具函数"),a("strong",[t._v("替代")]),t._v("新的 API")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("结果的不同, 以 "),a("code",[t._v("Object.assign()")]),t._v(" 为例")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("@babel/polyfill")]),t._v(" 转译后的代码中存在 "),a("code",[t._v("Object.assign()")]),t._v(" 方法")]),t._v(" "),a("li",[a("code",[t._v("@babel/runtime")]),t._v(" 转译后的代码不存在 "),a("code",[t._v("Object.assign()")]),t._v(" 方法")])]),t._v(" "),a("blockquote",[a("p",[t._v("总结: 对新增的 API 前者改变它， 后者替换它。")])]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("配置不同")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("@babel/polyfill")]),t._v(" 不用关心新的 API 对应的 "),a("code",[t._v("plugin")]),t._v(", 一次引用，不再担心兼容，而且它就是全局下的包，代码的任何地方都可以使用。")]),t._v(" "),a("li",[a("code",[t._v("@babel/runtime")]),t._v(" 是利用 plugin 自动识别并替换代码中的新特性, 虽然只要装好 "),a("code",[t._v("@babel/runtime")]),t._v(" 和 "),a("code",[t._v("@babel/plugin-transform-runtime")]),t._v(" 就可以使用， 但是针对新的 API 要引入对应"),a("code",[t._v("plugin")]),t._v(" 做处理。")])]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("范围不同\n"),a("code",[t._v("@babel/runtime")]),t._v(" 不能实现实例方法的转换， 像")])]),t._v(" "),a("h3",{attrs:{id:"babel-register"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-register"}},[t._v("#")]),t._v(" @babel/register")]),t._v(" "),a("p",[a("code",[t._v("@babel/register")]),t._v(" 是一个动态的编译器。上面讲到的 babel 使用，都是通过编译源码文件生成一个新的文件(通过命令 "),a("code",[t._v("npx babel test.js -o bundle.js")]),t._v("), 最终我们使用的代码是 "),a("code",[t._v("bundle.js")]),t._v("。")]),t._v(" "),a("p",[a("code",[t._v("@babel/register")]),t._v(" 提供了一种动态编译的功能， 当在代码顶部引用 "),a("code",[t._v("@babel/register")]),t._v(" 之后， 使用 "),a("code",[t._v("node test.js")]),t._v(" 可以直接运行源码文件， 在运行的时候，"),a("code",[t._v("@babel/register")]),t._v(" 会动态编译代码。")]),t._v(" "),a("p",[t._v("使用方式:")]),t._v(" "),a("ol",[a("li",[t._v("安装")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @babel/register -D\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("入口文件引入")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel/register'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Persion")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'new a persion'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Persion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("执行文件")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ node test.js\nnew a persion\n")])])]),a("h3",{attrs:{id:"babel-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-node"}},[t._v("#")]),t._v(" @babel/node")]),t._v(" "),a("p",[a("code",[t._v("@babel/node")]),t._v(" 是一个动态编译命令， 上面说到的 "),a("code",[t._v("@babel/register")]),t._v(" 需要手动的在入口文件中添加 "),a("code",[t._v("@baebl/register")]),t._v(" 依赖， 而使用 "),a("code",[t._v("@babel/node")]),t._v(" 可以省去这一步骤， 直接通过 "),a("code",[t._v("npx @babel/node test.js")]),t._v(" 就可以运行代码。")]),t._v(" "),a("p",[t._v("使用方式如下:")]),t._v(" "),a("ol",[a("li",[t._v("安装, "),a("code",[t._v("@babel/cli")]),t._v(" 中包含了 "),a("code",[t._v("@babel/node")]),t._v(" 如果安装了 "),a("code",[t._v("@babel/cli")]),t._v(" 就不用单独安装.")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @babel/node -D\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("创建执行文件")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel/register'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Persion")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'new a persion'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Persion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("执行 @babel/node 命令")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ npx @babel/node test.js\nnew a persion\n")])])]),a("blockquote",[a("ol",[a("li",[a("code",[t._v("@babel/register")]),t._v(" 和 "),a("code",[t._v("@babel/node")]),t._v(" 都依赖于 "),a("code",[t._v("@babel/core")]),t._v(" 如果需要单独使用需要一并安装 "),a("code",[t._v("@babel/core")])]),t._v(" "),a("li",[a("code",[t._v("@babel/register")]),t._v(" 和 "),a("code",[t._v("@babel/node")]),t._v(" 因为都是动态编译， 速度较慢， 建议只在开发环境中使用。")])])]),t._v(" "),a("h3",{attrs:{id:"babel-基础总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-基础总结"}},[t._v("#")]),t._v(" babel 基础总结")]),t._v(" "),a("p",[t._v("总的来说， Babel 由一下几部分构成。")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://ww3.sinaimg.cn/large/006tNc79gy1g5yzsi7nrsj30je0awtce.jpg",alt:""}})]),t._v(" "),a("ol",[a("li",[a("code",[t._v("@babel/core")])])]),t._v(" "),a("p",[t._v("是 babel 核心 API 所在， babel 的所有功能都基于这个模块。")]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("code",[t._v("@babel/preset-xx")])])]),t._v(" "),a("p",[t._v("插件集合。里面由一个个转译 es6 高级语法的插件构成, 不同的插件组合为一个 "),a("code",[t._v("preset")]),t._v("  例如 "),a("code",[t._v("@babel/preset-env")])]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[a("code",[t._v("@babel/polyfill")])])]),t._v(" "),a("p",[t._v("当新的 es API 不能被 "),a("code",[t._v("@babel/preset-xx")]),t._v(" 转译的时候， 浏览器会提供自己的 "),a("code",[t._v("polyfill")]),t._v(" 来新增或者重写 新增 es API 特性， "),a("code",[t._v("@babel/polyfill")]),t._v(" 提供了一套对新增 es API 特性"),a("strong",[t._v("重写")]),t._v("的 "),a("code",[t._v("polyfill")]),t._v("， 统一浏览器 "),a("code",[t._v("polyfill")]),t._v(" 的起跑线。")]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("code",[t._v("@babel/runtime")]),t._v(" & "),a("code",[t._v("@babel/plugin-transform-runtime")])])]),t._v(" "),a("p",[a("code",[t._v("@babel/runtime")]),t._v(" 负责提供 "),a("strong",[t._v("替换")]),t._v(" 新增 es API 特性的工具库， "),a("code",[t._v("@babel/plugin-transform-runtime")]),t._v(" 负责根据文件需要，自动"),a("strong",[t._v("插入")]),t._v("替换后的工具函数。")]),t._v(" "),a("ol",{attrs:{start:"5"}},[a("li",[a("code",[t._v("preset")]),t._v(" 和 "),a("code",[t._v("plugins")]),t._v(" 的参数模块")])]),t._v(" "),a("p",[t._v("babel 为 preset 和 plugins 提供的针对规则集合、环境信息集合、布丁集合的参数配置")]),t._v(" "),a("ol",{attrs:{start:"6"}},[a("li",[t._v("动态编译模块")])]),t._v(" "),a("p",[t._v("包含 "),a("code",[t._v("@babel/register")]),t._v(" 和 "),a("code",[t._v("@babel/node")]),t._v(" 前者基于代码动态编译，后者基于命令行动态编译")]),t._v(" "),a("ol",{attrs:{start:"7"}},[a("li",[t._v("命令行模块")])]),t._v(" "),a("p",[t._v("包含 "),a("code",[t._v("@babel/cli")]),t._v(" 和 "),a("code",[t._v("@babel/node")]),t._v(" 前者是对 js 进行转化和输入的工具， 后者为 动态编译执行 js 的工具")])])}),[],!1,null,null,null);s.default=e.exports}}]);